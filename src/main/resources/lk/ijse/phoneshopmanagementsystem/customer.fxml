<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Font?>

<BorderPane stylesheets="@../../styles/items.css" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="lk.ijse.phoneshopmanagementsystem.controller.CustomerController">

    <top>
        <VBox spacing="10" style="-fx-background-color: #1e293b; -fx-padding: 25 40 25 40;">
         <Button fx:id="btnBack" mnemonicParsing="false" onAction="#backButtonAction" prefHeight="27.0" prefWidth="53.0" style="-fx-background-color: null;" text="❮❮❮❮" textAlignment="JUSTIFY" textFill="WHITE">
            <font>
               <Font name="System Bold" size="13.0" />
            </font>
         </Button>
            <Label style="-fx-text-fill: #ffa500; -fx-font-size: 28px; -fx-font-weight: bold;" text="Customer Management" />
            <Label style="-fx-text-fill: #94a3b8; -fx-font-size: 15px;" text="Manage your customer information efficiently" />
        </VBox>
    </top>

    <center>
        <VBox alignment="TOP_CENTER" spacing="25" style="-fx-background-color: #0f172a;">

            <VBox maxWidth="1024.0" prefHeight="393.0" prefWidth="1024.0" spacing="20" style="-fx-background-color: #1e293b; -fx-padding: 30; -fx-background-radius: 15; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.5), 10, 0, 0, 5);">

                <Label style="-fx-text-fill: white; -fx-font-size: 20px; -fx-font-weight: bold;" text="Customer Details" />

                <GridPane hgap="20" vgap="18">

                    <Label style="-fx-text-fill: #cbd5e1; -fx-font-weight: bold;" text="Customer ID" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                    <TextField fx:id="txtCustomerId" editable="false" promptText="Auto Generated" style="-fx-background-color: #334155; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 8;" GridPane.columnIndex="1" GridPane.columnSpan="1" GridPane.rowIndex="0" />

                    <Label style="-fx-text-fill: #cbd5e1; -fx-font-weight: bold;" text="NIC" GridPane.columnIndex="2" GridPane.rowIndex="0" />
                    <TextField fx:id="txtNic" promptText="123456789V or 200012345678" style="-fx-background-color: #334155; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 8;" GridPane.columnIndex="3" GridPane.hgrow="ALWAYS" GridPane.rowIndex="0" />

                    <Label style="-fx-text-fill: #cbd5e1; -fx-font-weight: bold;" text="Name" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                    <TextField fx:id="txtName" promptText="Enter customer name" style="-fx-background-color: #334155; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 8;" GridPane.columnIndex="1" GridPane.columnSpan="3" GridPane.hgrow="ALWAYS" GridPane.rowIndex="1" />

                    <Label style="-fx-text-fill: #cbd5e1; -fx-font-weight: bold;" text="Contact" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                    <TextField fx:id="txtContact" promptText="07xxxxxxxx" style="-fx-background-color: #334155; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 8;" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                    <Label style="-fx-text-fill: #cbd5e1; -fx-font-weight: bold;" text="Email" GridPane.columnIndex="2" GridPane.rowIndex="2" />
                    <TextField fx:id="txtEmail" promptText="example@gmail.com" style="-fx-background-color: #334155; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 8;" GridPane.columnIndex="3" GridPane.rowIndex="2" />

                    <Label style="-fx-text-fill: #cbd5e1; -fx-font-weight: bold;" text="Address" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                    <TextField fx:id="txtAddress" promptText="Enter customer address" style="-fx-background-color: #334155; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 8;" GridPane.columnIndex="1" GridPane.columnSpan="3" GridPane.hgrow="ALWAYS" GridPane.rowIndex="3" />

                    <columnConstraints>
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="120" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="280" />
                        <ColumnConstraints hgrow="SOMETIMES" minWidth="100" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <rowConstraints>
                        <RowConstraints vgrow="SOMETIMES" />
                        <RowConstraints vgrow="SOMETIMES" />
                        <RowConstraints vgrow="SOMETIMES" />
                        <RowConstraints vgrow="SOMETIMES" />
                    </rowConstraints>
                </GridPane>

                <HBox alignment="CENTER_LEFT" spacing="15">
                    <Button fx:id="btnSave" onAction="#saveCustomer" prefHeight="45.0" prefWidth="140.0" style="-fx-background-color: red;" styleClass="big-btn" text="Save Customer" />
                    <Button fx:id="btnUpdate" onAction="#updateCustomer" prefHeight="45" prefWidth="140" style="-fx-background-color: #3b82f6;" styleClass="big-btn" text="Update" />
                    <Button fx:id="btnDelete" onAction="#deleteCustomer" prefHeight="45" prefWidth="140" style="-fx-background-color: #ef4444;" styleClass="big-btn" text="Delete" />
                    <Button fx:id="btnClear" onAction="#clearFields" prefHeight="45" prefWidth="140" style="-fx-background-color: #64748b;" styleClass="big-btn" text="Clear" />
               <HBox prefHeight="48.0" prefWidth="162.0" />
               <Button fx:id="btnClear1" onAction="#handleCustomerPrint" prefHeight="46.0" prefWidth="162.0" style="-fx-background-color: #58D130;" styleClass="big-btn" text="Print All Customer" />
                </HBox>
            </VBox>

            <HBox alignment="CENTER_LEFT" maxWidth="1000" spacing="15">
                <Label style="-fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold;" text="Search :" />
                <TextField fx:id="txtSearch" onAction="#searchCustomer" prefHeight="41.0" prefWidth="238.0" promptText="Search by ID, Name, Contact or NIC..." style="-fx-background-color: #1e293b; -fx-text-fill: white; -fx-prompt-text-fill: #64748b; -fx-padding: 12; -fx-background-radius: 10;" />
                <Button fx:id="btnSearch" onAction="#searchCustomer" prefHeight="38.0" prefWidth="150" style="-fx-background-color: 68F739;" styleClass="big-btn" text="Search" />
            </HBox>

            <TableView fx:id="tblCustomers" maxWidth="1100" prefHeight="400" style="-fx-background-color: #1e293b; -fx-background-radius: 15; -fx-border-radius: 15;">
                <columns>
                    <TableColumn fx:id="colCustomerId" prefWidth="150.0" text="Customer ID" />
                    <TableColumn fx:id="colName" prefWidth="200.0" text="Name" />
                    <TableColumn fx:id="colAddress" prefWidth="250.0" text="Address" />
                    <TableColumn fx:id="colContact" prefWidth="150.0" text="Contact" />
                    <TableColumn fx:id="colEmail" prefWidth="200.0" text="Email" />
                    <TableColumn fx:id="colNic" prefWidth="150.0" text="NIC" />
                </columns>
            </TableView>

        </VBox>
    </center>
</BorderPane>
